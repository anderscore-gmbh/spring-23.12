<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="379px" preserveAspectRatio="none" style="width:831px;height:379px;" version="1.1" viewBox="0 0 831 379" width="831px" zoomAndPan="magnify"><defs><filter height="300%" id="f1sd8o41akjs3x" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[434a86a25993eeeea880c43cffc3083d]
class SecurityContextHolder--><rect fill="#DDEEE8" filter="url(#f1sd8o41akjs3x)" height="92.9457" id="SecurityContextHolder" style="stroke: #225C4D; stroke-width: 1.5;" width="180" x="263" y="11"/><ellipse cx="287.9" cy="27" fill="#ADD1B2" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M287.3688,33.9219 Q285.6188,33.9219 284.4781,33.1875 Q283.3531,32.4375 282.7906,31.0938 Q282.2438,29.7344 282.2438,27.9375 Q282.2438,25.9063 282.9,24.4531 Q283.5563,23 284.8375,22.2188 Q286.1188,21.4375 287.9938,21.4375 Q288.8844,21.4375 289.5563,21.625 Q290.2281,21.7969 290.9156,22.1406 L290.1031,24.1563 Q289.4781,23.8438 288.9313,23.7188 Q288.4,23.5938 287.9156,23.5938 Q286.7438,23.5938 286.0406,24.125 Q285.3375,24.6563 285.0406,25.6094 Q284.7438,26.5625 284.7438,27.8281 Q284.7438,29.8438 285.4625,30.8125 Q286.1813,31.7656 287.775,31.7656 Q288.3688,31.7656 288.9938,31.6094 Q289.6188,31.4531 290.4469,31.0781 L290.4469,33.2969 Q289.7125,33.6094 288.9156,33.7656 Q288.1344,33.9219 287.3688,33.9219 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="304.1" y="31.656">SecurityContextHolder</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="264" x2="442" y1="43" y2="43"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="264" x2="442" y1="51" y2="51"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="64" x="269" y="66.7589">getContext()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="62" x="269" y="81.7408">setContext()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="168" x="269" y="96.7227">setStrategyName(strategyName)</text><path d="M6,8 L6,106.5301 A0,0 0 0 0 6,106.5301 L228,106.5301 A0,0 0 0 0 228,106.5301 L228,61.5 L262.73,57.5 L228,53.5 L228,18 L218,8 L6,8 A0,0 0 0 0 6,8 " fill="#FBFB77" filter="url(#f1sd8o41akjs3x)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M218,8 L218,18 L228,18 L218,8 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="12" y="26.897">Verwaltet SecurityContext</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="12" y="44.603">(standardmäßig) in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="12" y="62.309">ThreadLocal Variable,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="12" y="80.0151">einstellbar über setStrategyName</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="12" y="97.7211">oder spring.security.strategy</text><!--MD5=[bfe80886124190284096452d0cb4568d]
class Principal--><rect fill="#DDEEE8" filter="url(#f1sd8o41akjs3x)" height="48" id="Principal" style="stroke: #225C4D; stroke-width: 1.5;" width="79" x="478.5" y="33.5"/><ellipse cx="493.5" cy="49.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M489.5313,56 L489.5313,54.2969 L491.8906,54.0313 L491.8906,45.8281 L489.5313,45.5625 L489.5313,43.8594 L496.6719,43.8594 L496.6719,45.5625 L494.25,45.8281 L494.25,54.0313 L496.6719,54.2969 L496.6719,56 L489.5313,56 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="47" x="507.5" y="54.156">Principal</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="479.5" x2="556.5" y1="65.5" y2="65.5"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="479.5" x2="556.5" y1="73.5" y2="73.5"/><!--MD5=[86b30c3e0fe779331a576db045bd0856]
class SecurityContext--><rect fill="#DDEEE8" filter="url(#f1sd8o41akjs3x)" height="48" id="SecurityContext" style="stroke: #225C4D; stroke-width: 1.5;" width="115" x="312.5" y="189.5"/><ellipse cx="327.5" cy="205.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M323.5313,212 L323.5313,210.2969 L325.8906,210.0313 L325.8906,201.8281 L323.5313,201.5625 L323.5313,199.8594 L330.6719,199.8594 L330.6719,201.5625 L328.25,201.8281 L328.25,210.0313 L330.6719,210.2969 L330.6719,212 L323.5313,212 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="83" x="341.5" y="210.156">SecurityContext</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="313.5" x2="426.5" y1="221.5" y2="221.5"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="313.5" x2="426.5" y1="229.5" y2="229.5"/><!--MD5=[a139e992f8a77546bf37c14edd197f06]
class Authentication--><rect fill="#DDEEE8" filter="url(#f1sd8o41akjs3x)" height="92.9457" id="Authentication" style="stroke: #225C4D; stroke-width: 1.5;" width="110" x="463" y="167"/><ellipse cx="478" cy="183" fill="#B4A7E5" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M474.0313,189.5 L474.0313,187.7969 L476.3906,187.5313 L476.3906,179.3281 L474.0313,179.0625 L474.0313,177.3594 L481.1719,177.3594 L481.1719,179.0625 L478.75,179.3281 L478.75,187.5313 L481.1719,187.7969 L481.1719,189.5 L474.0313,189.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="78" x="492" y="187.656">Authentication</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="464" x2="572" y1="199" y2="199"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="464" x2="572" y1="207" y2="207"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="469" y="222.7589">getPrincipal()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="469" y="237.7408">getAuthorities()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="469" y="252.7227">isAuthenticated()</text><!--MD5=[e3e144d13ada41eaab5375ff982d1fe4]
class GrantedAuthority--><rect fill="#DDEEE8" filter="url(#f1sd8o41akjs3x)" height="48" id="GrantedAuthority" style="stroke: #225C4D; stroke-width: 1.5;" width="126" x="608" y="189.5"/><ellipse cx="623" cy="205.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M619.0313,212 L619.0313,210.2969 L621.3906,210.0313 L621.3906,201.8281 L619.0313,201.5625 L619.0313,199.8594 L626.1719,199.8594 L626.1719,201.5625 L623.75,201.8281 L623.75,210.0313 L626.1719,210.2969 L626.1719,212 L619.0313,212 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="94" x="637" y="210.156">GrantedAuthority</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="609" x2="733" y1="221.5" y2="221.5"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="609" x2="733" y1="229.5" y2="229.5"/><path d="M769,199.5 L769,209.5 L734.42,213.5 L769,217.5 L769,227.206 A0,0 0 0 0 769,227.206 L819,227.206 A0,0 0 0 0 819,227.206 L819,209.5 L809,199.5 L769,199.5 A0,0 0 0 0 769,199.5 " fill="#FBFB77" filter="url(#f1sd8o41akjs3x)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M809,199.5 L809,209.5 L819,209.5 L809,199.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="775" y="218.397">Rolle</text><!--MD5=[11ccd37da9cde826af907da9156f9e97]
class UsernamePasswordAuthenticationToken--><rect fill="#DDEEE8" filter="url(#f1sd8o41akjs3x)" height="48" id="UsernamePasswordAuthenticationToken" style="stroke: #225C4D; stroke-width: 1.5;" width="260" x="251" y="320"/><ellipse cx="266" cy="336" fill="#ADD1B2" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M265.4688,342.9219 Q263.7188,342.9219 262.5781,342.1875 Q261.4531,341.4375 260.8906,340.0938 Q260.3438,338.7344 260.3438,336.9375 Q260.3438,334.9063 261,333.4531 Q261.6563,332 262.9375,331.2188 Q264.2188,330.4375 266.0938,330.4375 Q266.9844,330.4375 267.6563,330.625 Q268.3281,330.7969 269.0156,331.1406 L268.2031,333.1563 Q267.5781,332.8438 267.0313,332.7188 Q266.5,332.5938 266.0156,332.5938 Q264.8438,332.5938 264.1406,333.125 Q263.4375,333.6563 263.1406,334.6094 Q262.8438,335.5625 262.8438,336.8281 Q262.8438,338.8438 263.5625,339.8125 Q264.2813,340.7656 265.875,340.7656 Q266.4688,340.7656 267.0938,340.6094 Q267.7188,340.4531 268.5469,340.0781 L268.5469,342.2969 Q267.8125,342.6094 267.0156,342.7656 Q266.2344,342.9219 265.4688,342.9219 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="280" y="340.656">UsernamePasswordAuthenticationToken</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="252" x2="510" y1="352" y2="352"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="252" x2="510" y1="360" y2="360"/><!--MD5=[d41cf860e5f3de3bff587ca1c0d8aaac]
class OAuth2LoginAuthenticationToken--><rect fill="#DDEEE8" filter="url(#f1sd8o41akjs3x)" height="48" id="OAuth2LoginAuthenticationToken" style="stroke: #225C4D; stroke-width: 1.5;" width="219" x="546.5" y="320"/><ellipse cx="561.5" cy="336" fill="#ADD1B2" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M560.9688,342.9219 Q559.2188,342.9219 558.0781,342.1875 Q556.9531,341.4375 556.3906,340.0938 Q555.8438,338.7344 555.8438,336.9375 Q555.8438,334.9063 556.5,333.4531 Q557.1563,332 558.4375,331.2188 Q559.7188,330.4375 561.5938,330.4375 Q562.4844,330.4375 563.1563,330.625 Q563.8281,330.7969 564.5156,331.1406 L563.7031,333.1563 Q563.0781,332.8438 562.5313,332.7188 Q562,332.5938 561.5156,332.5938 Q560.3438,332.5938 559.6406,333.125 Q558.9375,333.6563 558.6406,334.6094 Q558.3438,335.5625 558.3438,336.8281 Q558.3438,338.8438 559.0625,339.8125 Q559.7813,340.7656 561.375,340.7656 Q561.9688,340.7656 562.5938,340.6094 Q563.2188,340.4531 564.0469,340.0781 L564.0469,342.2969 Q563.3125,342.6094 562.5156,342.7656 Q561.7344,342.9219 560.9688,342.9219 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="187" x="575.5" y="340.656">OAuth2LoginAuthenticationToken</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="547.5" x2="764.5" y1="352" y2="352"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="547.5" x2="764.5" y1="360" y2="360"/><!--MD5=[6a1ed9cef0e8d3e5f6b31a5074b605cb]
reverse link Principal to Authentication--><path d="M518,101.73 C518,122.07 518,146.33 518,166.95 " fill="none" id="Principal&lt;-Authentication" style="stroke: #225C4D; stroke-width: 1.0;"/><polygon fill="none" points="511,101.56,518,81.56,525,101.56,511,101.56" style="stroke: #225C4D; stroke-width: 1.0;"/><!--MD5=[975aa200029110868636c73963594511]
link SecurityContext to Authentication--><path d="M427.52,213.5 C437.56,213.5 447.59,213.5 457.62,213.5 " fill="none" id="SecurityContext-&gt;Authentication" style="stroke: #225C4D; stroke-width: 1.0;"/><polygon fill="#225C4D" points="462.87,213.5,453.87,209.5,457.87,213.5,453.87,217.5,462.87,213.5" style="stroke: #225C4D; stroke-width: 1.0;"/><!--MD5=[94b1c8ac123e57f9c08f65047d00cbde]
link Authentication to GrantedAuthority--><path d="M573.28,213.5 C583.03,213.5 592.79,213.5 602.54,213.5 " fill="none" id="Authentication-&gt;GrantedAuthority" style="stroke: #225C4D; stroke-width: 1.0;"/><polygon fill="#225C4D" points="607.64,213.5,598.64,209.5,602.64,213.5,598.64,217.5,607.64,213.5" style="stroke: #225C4D; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="592.9093" y="209.455">*</text><!--MD5=[870d52f46d07a550b9e9374cff9acf4c]
reverse link Authentication to UsernamePasswordAuthenticationToken--><path d="M454.61,273.96 C437.25,290.24 419.45,306.94 405.7,319.83 " fill="none" id="Authentication&lt;-UsernamePasswordAuthenticationToken" style="stroke: #225C4D; stroke-width: 1.0;"/><polygon fill="none" points="449.94,268.74,469.31,260.17,459.51,278.95,449.94,268.74" style="stroke: #225C4D; stroke-width: 1.0;"/><!--MD5=[bc44bb060c5018d08657c9ebdd4c745c]
reverse link Authentication to OAuth2LoginAuthenticationToken--><path d="M581.85,273.96 C599.34,290.24 617.27,306.94 631.12,319.83 " fill="none" id="Authentication&lt;-OAuth2LoginAuthenticationToken" style="stroke: #225C4D; stroke-width: 1.0;"/><polygon fill="none" points="576.91,278.92,567.04,260.17,586.45,268.67,576.91,278.92" style="stroke: #225C4D; stroke-width: 1.0;"/><!--MD5=[c57494d3ff951d9fdb493540ee88df15]
@startuml
skinparam class {
 BackgroundColor #DDEEE8
 BorderColor #225C4D
 ArrowColor #225C4D
 }
class SecurityContextHolder {
    {static} getContext()
    {static} setContext()
    {static} setStrategyName(strategyName)
}
note left: Verwaltet SecurityContext\n(standardmäßig) in\nThreadLocal Variable,\neinstellbar über setStrategyName\noder spring.security.strategy

interface Principal
interface SecurityContext

interface Authentication {
    getPrincipal()
    getAuthorities()
    isAuthenticated()
}

interface GrantedAuthority
note right: Rolle

Principal <|- - Authentication

SecurityContext -> Authentication
Authentication -> "*" GrantedAuthority

Authentication <|- - UsernamePasswordAuthenticationToken
Authentication <|- - OAuth2LoginAuthenticationToken
@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.9+9-Debian-1deb12u1
Operating System: Linux
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>